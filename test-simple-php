<?php
// test-simple.php - Test bÃ¡sico de conexiÃ³n
echo "<h2>ğŸ§ª Test Simple de ConexiÃ³n</h2>";

// Test 1: Â¿PHP funciona?
echo "<p>âœ… PHP estÃ¡ funcionando (versiÃ³n: " . phpversion() . ")</p>";

// Test 2: Â¿Includes funcionan?
try {
    require_once 'includes/database.php';
    echo "<p>âœ… includes/database.php cargado correctamente</p>";
} catch (Exception $e) {
    echo "<p style='color: red;'>âŒ Error cargando database.php: " . $e->getMessage() . "</p>";
    exit;
}

// Test 3: Â¿ConexiÃ³n a BD funciona?
try {
    $db = new Database();
    $conn = $db->getConnection();
    echo "<p>âœ… ConexiÃ³n a base de datos exitosa</p>";
    
    // Test 4: Â¿Tabla usuarios existe?
    $stmt = $conn->query("SELECT name FROM sqlite_master WHERE type='table' AND name='usuarios'");
    $table_exists = $stmt->fetch();
    
    if ($table_exists) {
        echo "<p>âœ… Tabla 'usuarios' existe</p>";
        
        // Test 5: Â¿Hay usuarios?
        $stmt = $conn->query("SELECT COUNT(*) as total FROM usuarios");
        $count = $stmt->fetch();
        echo "<p>Total de usuarios: " . $count['total'] . "</p>";
    } else {
        echo "<p style='color: red;'>âŒ Tabla 'usuarios' NO existe</p>";
    }
    
} catch (Exception $e) {
    echo "<p style='color: red;'>âŒ Error de conexiÃ³n: " . $e->getMessage() . "</p>";
}
?>